<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Sherlock Cluster documentation"><meta name=author content="Kilian Cavalotti"><link href=https://www.sherlock.stanford.edu/docs/software/using/singularity/ rel=canonical><link rel="shortcut icon" href=/assets/img/logo_small.png><meta name=generator content="mkdocs-1.1.2, mkdocs-material-6.2.8"><title>Singularity - Sherlock</title><link rel=stylesheet href=../../../../assets/stylesheets/main.cb6bc1d0.min.css><link rel=stylesheet href=../../../../assets/stylesheets/palette.39b8e14a.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback"><style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style><link rel=manifest href=../../../../manifest.webmanifest crossorigin=use-credentials><link rel=stylesheet href=/assets/css/sh.css><script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-68034405-2","auto"),ga("set","anonymizeIp",!0),ga("send","pageview"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){if(this.value){var e=document.location.pathname;ga("send","pageview",e+"?q="+this.value)}})}),document.addEventListener("DOMContentSwitch",function(){ga("send","pageview",document.location.pathname)})</script><script async src=https://www.google-analytics.com/analytics.js></script><!-- Track external links --><script>
    document.addEventListener("DOMContentLoaded", function() {
      document.body.addEventListener("click", function(ev) {
        if (ev.target instanceof HTMLElement) {
          var el = ev.target.closest("a[href^=http]")
          if (el)
            ga("send", "event", "outbound", "click", el.href)
        }
      })
    })
  </script><!-- Determine title --><!-- The image needs to have an absolute URL --><!-- Open graph meta tags --><meta property=og:type content=website><meta property=og:title content="Sherlock - Singularity"><meta property=og:description content="Sherlock Cluster documentation"><meta content=https://www.sherlock.stanford.edu/docs/software/using/singularity/ property=og:url><meta property=og:image content=https://www.sherlock.stanford.edu/assets/img/banner.png><meta property=og:image:type content=image/png><meta property=og:image:width content=1200><meta property=og:image:height content=630><!-- Twitter meta tags --><meta name=twitter:card content=summary_large_image><meta name=twitter:site content=@StanfordCompute><meta name=twitter:creator content=@StanfordCompute><meta name=twitter:title content="Sherlock - Singularity"><meta name=twitter:description content="Sherlock Cluster documentation"><meta name=twitter:image content=https://www.sherlock.stanford.edu/assets/img/banner.png></head> <body dir=ltr data-md-color-scheme data-md-color-primary=none data-md-color-accent=none> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#introduction class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header-nav md-grid" aria-label=Header> <a href=https://www.sherlock.stanford.edu/ title=Sherlock class="md-header-nav__button md-logo" aria-label=Sherlock> <img src=/assets/img/logo_small.png alt=logo> </a> <label class="md-header-nav__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg> </label> <div class=md-header-nav__title data-md-component=header-title> <div class=md-header-nav__ellipsis> <div class=md-header-nav__topic> <span class=md-ellipsis> Sherlock </span> </div> <div class=md-header-nav__topic> <span class=md-ellipsis> Singularity </span> </div> </div> </div> <label class="md-header-nav__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query data-md-state=active required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </label> <button type=reset class="md-search__icon md-icon" aria-label=Clear data-md-component=search-reset tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg> </button> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> <div class=md-header-nav__source> <a href=https://github.com/stanford-rc/ title="Go to repository" class=md-source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </div> <div class=md-source__repository> SRCC // Open Source </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=https://www.sherlock.stanford.edu/ title=Sherlock class="md-nav__button md-logo" aria-label=Sherlock> <img src=/assets/img/logo_small.png alt=logo> </a> Sherlock </label> <div class=md-nav__source> <a href=https://github.com/stanford-rc/ title="Go to repository" class=md-source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </div> <div class=md-source__repository> SRCC // Open Source </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-1 type=checkbox id=nav-1> <label class=md-nav__link for=nav-1> Overview <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Overview data-md-level=1> <label class=md-nav__title for=nav-1> <span class="md-nav__icon md-icon"></span> Overview </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../overview/introduction/ class=md-nav__link> Introduction </a> </li> <li class=md-nav__item> <a href=../../../overview/concepts/ class=md-nav__link> Concepts </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-1-3 type=checkbox id=nav-1-3> <label class=md-nav__link for=nav-1-3> Ordering nodes <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Ordering nodes" data-md-level=2> <label class=md-nav__title for=nav-1-3> <span class="md-nav__icon md-icon"></span> Ordering nodes </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../overview/orders/ class=md-nav__link> Process </a> </li> <li class=md-nav__item> <a href=/catalog/ class=md-nav__link> Catalog </a> </li> <li class=md-nav__item> <a href=/order_form/ class=md-nav__link> Order form </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-1-4 type=checkbox id=nav-1-4> <label class=md-nav__link for=nav-1-4> Technical <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Technical data-md-level=2> <label class=md-nav__title for=nav-1-4> <span class="md-nav__icon md-icon"></span> Technical </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../overview/tech/facts/ class=md-nav__link> Facts </a> </li> <li class=md-nav__item> <a href=../../../overview/tech/specs/ class=md-nav__link> Specs </a> </li> <li class=md-nav__item> <a href=../../../overview/tech/status/ class=md-nav__link> Status </a> </li> <li class=md-nav__item> <a href=../../../overview/tech/glossary/ class=md-nav__link> Glossary </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../overview/about/ class=md-nav__link> About </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-2 type=checkbox id=nav-2> <label class=md-nav__link for=nav-2> Getting Started <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Getting Started" data-md-level=1> <label class=md-nav__title for=nav-2> <span class="md-nav__icon md-icon"></span> Getting Started </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../getting-started/prerequisites/ class=md-nav__link> Prerequisites </a> </li> <li class=md-nav__item> <a href=../../../getting-started/connecting/ class=md-nav__link> Connecting </a> </li> <li class=md-nav__item> <a href=../../../getting-started/submitting/ class=md-nav__link> Submitting jobs </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-3 type=checkbox id=nav-3> <label class=md-nav__link for=nav-3> User guide <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="User guide" data-md-level=1> <label class=md-nav__title for=nav-3> <span class="md-nav__icon md-icon"></span> User guide </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../user-guide/running-jobs/ class=md-nav__link> Running jobs </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-3-2 type=checkbox id=nav-3-2> <label class=md-nav__link for=nav-3-2> Specialized resources <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Specialized resources" data-md-level=2> <label class=md-nav__title for=nav-3-2> <span class="md-nav__icon md-icon"></span> Specialized resources </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../user-guide/gpu/ class=md-nav__link> GPU nodes </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../user-guide/ondemand/ class=md-nav__link> OnDemand </a> </li> <li class=md-nav__item> <a href=../../../user-guide/troubleshoot/ class=md-nav__link> Troubleshooting </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-4 type=checkbox id=nav-4> <label class=md-nav__link for=nav-4> Storage <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Storage data-md-level=1> <label class=md-nav__title for=nav-4> <span class="md-nav__icon md-icon"></span> Storage </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../storage/overview/ class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../../../storage/filesystems/ class=md-nav__link> Filesystems </a> </li> <li class=md-nav__item> <a href=../../../storage/data-sharing/ class=md-nav__link> Data sharing </a> </li> <li class=md-nav__item> <a href=../../../storage/data-protection/ class=md-nav__link> Data protection </a> </li> <li class=md-nav__item> <a href=../../../storage/data-transfer/ class=md-nav__link> Data transfer </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-5 type=checkbox id=nav-5 checked> <label class=md-nav__link for=nav-5> Software <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Software data-md-level=1> <label class=md-nav__title for=nav-5> <span class="md-nav__icon md-icon"></span> Software </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../overview/ class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../../list/ class=md-nav__link> List </a> </li> <li class=md-nav__item> <a href=../../modules/ class=md-nav__link> Modules </a> </li> <li class=md-nav__item> <a href=../../install/ class=md-nav__link> Installation </a> </li> <li class=md-nav__item> <a href=./ class=md-nav__link> Containers </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-5-6 type=checkbox id=nav-5-6 checked> <label class=md-nav__link for=nav-5-6> Usage <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Usage data-md-level=2> <label class=md-nav__title for=nav-5-6> <span class="md-nav__icon md-icon"></span> Usage </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../R/ class=md-nav__link> R </a> </li> <li class=md-nav__item> <a href=../julia/ class=md-nav__link> Julia </a> </li> <li class=md-nav__item> <a href=../python/ class=md-nav__link> Python </a> </li> <li class=md-nav__item> <a href=../perl/ class=md-nav__link> Perl </a> </li> <li class=md-nav__item> <a href=../matlab/ class=md-nav__link> Matlab </a> </li> <li class=md-nav__item> <a href=../rclone/ class=md-nav__link> Rclone </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" data-md-toggle=toc type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> Singularity <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> Singularity </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#introduction class=md-nav__link> Introduction </a> <nav class=md-nav aria-label=Introduction> <ul class=md-nav__list> <li class=md-nav__item> <a href=#why-not-docker class=md-nav__link> Why not Docker? </a> </li> <li class=md-nav__item> <a href=#why-singularity class=md-nav__link> Why Singularity? </a> </li> <li class=md-nav__item> <a href=#more-documentation class=md-nav__link> More documentation </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#singularity-on-sherlock class=md-nav__link> Singularity on Sherlock </a> <nav class=md-nav aria-label="Singularity on Sherlock"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#importing-containers class=md-nav__link> Importing containers </a> </li> <li class=md-nav__item> <a href=#running-containers class=md-nav__link> Running containers </a> </li> <li class=md-nav__item> <a href=#gpu-enabled-containers class=md-nav__link> GPU-enabled containers </a> <nav class=md-nav aria-label="GPU-enabled containers"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#pulling-ngc-images class=md-nav__link> Pulling NGC images </a> </li> <li class=md-nav__item> <a href=#running-ngc-containers class=md-nav__link> Running NGC containers </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#building-your-own-containers class=md-nav__link> Building your own containers </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../spark/ class=md-nav__link> Spark </a> </li> <li class=md-nav__item> <a href=../mariadb/ class=md-nav__link> MariaDB </a> </li> <li class=md-nav__item> <a href=../postgresql/ class=md-nav__link> PostgreSQL </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-6 type=checkbox id=nav-6> <label class=md-nav__link for=nav-6> Advanced topics <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Advanced topics" data-md-level=1> <label class=md-nav__title for=nav-6> <span class="md-nav__icon md-icon"></span> Advanced topics </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../advanced-topics/connection/ class=md-nav__link> Connection </a> </li> <li class=md-nav__item> <a href=../../../advanced-topics/job-management/ class=md-nav__link> Job management </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#introduction class=md-nav__link> Introduction </a> <nav class=md-nav aria-label=Introduction> <ul class=md-nav__list> <li class=md-nav__item> <a href=#why-not-docker class=md-nav__link> Why not Docker? </a> </li> <li class=md-nav__item> <a href=#why-singularity class=md-nav__link> Why Singularity? </a> </li> <li class=md-nav__item> <a href=#more-documentation class=md-nav__link> More documentation </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#singularity-on-sherlock class=md-nav__link> Singularity on Sherlock </a> <nav class=md-nav aria-label="Singularity on Sherlock"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#importing-containers class=md-nav__link> Importing containers </a> </li> <li class=md-nav__item> <a href=#running-containers class=md-nav__link> Running containers </a> </li> <li class=md-nav__item> <a href=#gpu-enabled-containers class=md-nav__link> GPU-enabled containers </a> <nav class=md-nav aria-label="GPU-enabled containers"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#pulling-ngc-images class=md-nav__link> Pulling NGC images </a> </li> <li class=md-nav__item> <a href=#running-ngc-containers class=md-nav__link> Running NGC containers </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#building-your-own-containers class=md-nav__link> Building your own containers </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content> <article class="md-content__inner md-typeset"> <a href=https://github.com/stanford-rc/www.sherlock.stanford.edu/edit/main/src/docs/software/using/singularity.md title="Edit this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg> </a> <h1>Singularity</h1> <p><a href=//www.sylabs.io>Singularity</a> is a tool for running <a href=//en.wikipedia.org/wiki/Linux_containers>containers</a> on <abbr title="High Performance Computing">HPC</abbr> systems, similar to <a href=//www.docker.com>Docker</a>.</p> <h2 id=introduction>Introduction<a class=headerlink href=#introduction title="Permanent link">#</a></h2> <p>Containers are a solution to the problem of how to get software to run reliably when moved from one computing environment to another. They also resolve installation problems by packaging all the dependencies of an application within a self-sustainable image, <em>a.k.a</em> a container.</p> <div class="admonition info"> <p class=admonition-title>What's a container?</p> <p>Put simply, a container consists of an entire runtime environment: an application, plus all its dependencies, libraries and other binaries, and configuration files needed to run it, bundled into one package. By containerizing the application platform and its dependencies, differences in <abbr title="Operating System">OS</abbr> distributions and underlying infrastructure are abstracted away.</p> </div> <h3 id=why-not-docker>Why not Docker?<a class=headerlink href=#why-not-docker title="Permanent link">#</a></h3> <p>Docker has long been the reference and the most popular container framework in DevOps and Enterprise IT environments, so why not use Docker on Sherlock? Well, for a variety of technical reasons, mostly related to security.</p> <p>Docker has never been designed nor developed to run in multi-tenants environments, and even less on <abbr title="High Performance Computing">HPC</abbr> clusters. Specifically:</p> <ul> <li>Docker requires a daemon running as <code>root</code> on all of the compute nodes, which has serious security implications,</li> <li>all authenticated actions (such as <code>login</code>, <code>push</code> ...) are also executed as <code>root</code>, meaning that multiple users can't use those functions on the same node,</li> <li>Docker uses cgroups to isolate containers, as does the Slurm scheduler, which uses cgroups to allocate resources to jobs and enforce limits. Those uses are unfortunately conflicting.</li> <li>but most importantly, <em>allowing users to run Docker containers will give them</em> <code>root</code> <em>privileges</em> inside that container, which will in turn let them access any of the clusters' filesystems as <code>root</code>. This opens the door to user impersonation, inappropriate file tampering or stealing, and is obviously not something that can be allowed on a shared resource.</li> </ul> <p>That last point is certainly the single most important reason why we won't use Docker on Sherlock.</p> <h3 id=why-singularity>Why Singularity?<a class=headerlink href=#why-singularity title="Permanent link">#</a></h3> <div class="admonition tldr"> <p class=admonition-title>Singularity is Docker for <abbr title="High Performance Computing">HPC</abbr> systems</p> <p>Singularity allows <a href=//www.sylabs.io/guides/latest/user-guide/singularity_and_docker.html>running Docker containers natively</a>, and is a perfect replacement for Docker on <abbr title="High Performance Computing">HPC</abbr> systems such as Sherlock. That means that existing Docker container can be directly imported and natively run with SIngularity.</p> </div> <p>Despite Docker's shortcomings on <abbr title="High Performance Computing">HPC</abbr> systems, the appeal of containers for scientific computing is undeniable, which is why we provide <a href=//www.sylabs.io>Singularity</a> on Sherlock. Singularity is an alternative container framework, especially designed to run scientific applications on <abbr title="High Performance Computing">HPC</abbr> clusters.</p> <p>Singularity provides the same functionalities as Docker, without any of the drawbacks listed above. Using a completely different implementation, it doesn't require any privilege to run containers, and allow direct interaction with existing Docker containers.</p> <p>The main motivation to use Singularity over Docker is the fact that it's been developed with <abbr title="High Performance Computing">HPC</abbr> systems in mind, to solve those specific problems:</p> <ul> <li>security: a user in the container is the same user as the one running the container, so no privilege escalation possible,</li> <li>ease of deployment: no daemon running as root on each node, a container is simply an executable,</li> <li>no need to mount filesystems or do bind mappings to access devices,</li> <li>ability to run <abbr title="Message Passing Interface">MPI</abbr> jobs based on containers,</li> <li><a href=//www.sylabs.io/docs>and more</a>...</li> </ul> <h3 id=more-documentation>More documentation<a class=headerlink href=#more-documentation title="Permanent link">#</a></h3> <p>The following documentation specifically intended for using Singularity on Sherlock. For more complete documentation about building and running containers with Singularity, please see the <a href=//www.sylabs.io/docs>Singularity documentation</a>.</p> <h2 id=singularity-on-sherlock>Singularity on Sherlock<a class=headerlink href=#singularity-on-sherlock title="Permanent link">#</a></h2> <p>As <a href=//news.sherlock.stanford.edu/posts/sherlock-goes-container-native>announced</a> during the <a href=//sc18.supercomputing.org/ >SC'18 Supercomputing Conference</a>, Singularity is an integral part of the Sherlock cluster, and Singularity commands can be executed natively on any login or compute node, without the need to load any additional module.</p> <h3 id=importing-containers>Importing containers<a class=headerlink href=#importing-containers title="Permanent link">#</a></h3> <p>Pre-built containers can be obtained from a variety of sources. For instance:</p> <ul> <li><a href=//hub.docker.com>DockerHub</a> contains containers for various software packages, which can be <a href=//www.sylabs.io/guides/latest/user-guide/singularity_and_docker.html>directly used with Singularity</a>,</li> <li><a href=https://singularity-hub.org/ >SingularityHub</a> is a registry for scientific linux containers,</li> <li>the <a href=https://ngc.nvidia.com/signin/email>NVIDIA <abbr title="Graphical Processing Unit">GPU</abbr> Cloud</a> registry for <abbr title="Graphical Processing Unit">GPU</abbr>-optimized containers,</li> <li>many individual projects contain specific instructions for installation via Docker and/or Singularity, and may provide pre-built images in other locations.</li> </ul> <p>To illustrate how Singularity can import and run Docker containers, here's an example how to install and run the <a href=//openfoam.org/ >OpenFOAM CFD solver</a> using Singularity. OpenFOAM can be quite difficult to install manually, but Singularity makes it very easy.</p> <div class="admonition info"> <p class=admonition-title>Interactive or batch usage</p> <p>This example shows how to use Singularity interactively, but Singularity containers can be run in batch jobs as well.</p> </div> <p>The first step is to request an interactive shell, and to load the singularity module. Singularity images can be pulled directly from the compute nodes, and Singularity uses multiple <abbr title="Central Processing Unit">CPU</abbr> cores when assembling the image, so requesting multiple cores in your job can make the pull operation faster:</p> <div class=highlight><pre><span></span><code>$ srun -c <span class=m>4</span> --pty bash
</code></pre></div> <p>We recommend storing Singularity images in <code>$GROUP_HOME</code>, as container images can take significant space in your <code>$HOME</code> directory.</p> <div class=highlight><pre><span></span><code>$ mkdir -p <span class=nv>$GROUP_HOME</span>/<span class=nv>$USER</span>/simg
$ <span class=nb>cd</span> <span class=nv>$GROUP_HOME</span>/<span class=nv>$USER</span>/simg
</code></pre></div> <p>Then, the OpenFOAM container could be pulled directly from <a href=//hub.docker.com>DockerHub</a> by Singularity. This can take a moment to complete:</p> <div class=highlight><pre><span></span><code>$ singularity pull docker://openfoam/openfoam6-paraview54
Docker image path: index.docker.io/openfoam/openfoam6-paraview54:latest
Cache folder <span class=nb>set</span> to /scratch/users/kilian/.singularity/docker
Importing: base Singularity environment
Exploding layer: sha256:1be7f2b886e89a58e59c4e685fcc5905a26ddef3201f290b96f1eff7d778e122.tar.gz
<span class=o>[</span>...<span class=o>]</span>
Building Singularity image...
Singularity container built: ./openfoam6-paraview54.simg
Cleaning up...
Done. Container is at: ./openfoam6-paraview54.simg
</code></pre></div> <h3 id=running-containers>Running containers<a class=headerlink href=#running-containers title="Permanent link">#</a></h3> <p>Once the image is downloaded, you are ready to run OpenFOAM from the container. The <code>singularity shell</code> command can be used to start the container, and run a shell within that image:</p> <p>By default on Sherlock, all the filesystems that are available on the compute node will also be available in the container. If you want to start your shell in a specific directory, you can use the <code>--pwd /path/</code> option. For instance, we'll create a <code>/tmp/openfoam_test/</code> directory to store our tests results (that will be wiped out at the end of the job), and start the container shell there:</p> <div class=highlight><pre><span></span><code>$ mkdir /tmp/openfoam_test
$ singularity shell --pwd /tmp/openfoam_test openfoam6-paraview54.simg
Singularity: Invoking an interactive shell within container...
Singularity openfoam6-paraview54.simg:/tmp/openfoam_test&gt;
</code></pre></div> <p>You're now in the container, as denoted by the shell prompt (<code>Singularity[...].simg:[path]&gt;</code>), which is different from the prompt displayed on the compute node (which usually looks like <code>[login]@[compute_node] [path]$</code>.</p> <p>OpenFOAM provides a convenience script that can be sourced to make OpenFOAM commands directly accessible and set a few useful environment variables:</p> <div class=highlight><pre><span></span><code>&gt; <span class=nb>source</span> /opt/openfoam6/etc/bashrc
</code></pre></div> <p>Now, we can run a simple example using OpenFOAM:</p> <div class=highlight><pre><span></span><code>&gt; cp -r <span class=nv>$FOAM_TUTORIALS</span>/incompressible/simpleFoam/pitzDaily .
&gt; <span class=nb>cd</span> pitzDaily
&gt; blockMesh
<span class=o>[</span>...<span class=o>]</span>
End

&gt; simpleFoam
/*---------------------------------------------------------------------------*<span class=se>\</span>
  <span class=o>=========</span>                 <span class=p>|</span>
  <span class=se>\\</span>      /  F ield         <span class=p>|</span> OpenFOAM: The Open Source CFD Toolbox
   <span class=se>\\</span>    /   O peration     <span class=p>|</span> Website:  https://openfoam.org
    <span class=se>\\</span>  /    A nd           <span class=p>|</span> Version:  <span class=m>6</span>
     <span class=se>\\</span>/     M anipulation  <span class=p>|</span>
<span class=se>\*</span>---------------------------------------------------------------------------*/
Build  : <span class=m>6</span>-1a0c91b3baa8
Exec   : simpleFoam
Date   : Oct <span class=m>05</span> <span class=m>2018</span>
Time   : <span class=m>23</span>:37:30
Host   : <span class=s2>&quot;sh01-06n33.int&quot;</span>
PID    : <span class=m>14670</span>
I/O    : uncollated
Case   : /tmp/openfoam_test/pitzDaily
nProcs : <span class=m>1</span>
sigFpe : Enabling floating point exception trapping <span class=o>(</span>FOAM_SIGFPE<span class=o>)</span>.
fileModificationChecking : Monitoring run-time modified files using timeStampMaster <span class=o>(</span>fileModificationSkew <span class=m>10</span><span class=o>)</span>
allowSystemOperations : Allowing user-supplied system call operations

// * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * //
Create <span class=nb>time</span>
<span class=o>[</span>...<span class=o>]</span>
SIMPLE solution converged <span class=k>in</span> <span class=m>288</span> iterations

streamLine streamlines write:
    seeded <span class=m>10</span> particles
    Tracks:10
    Total samples:11980
    Writing data to <span class=s2>&quot;/tmp/openfoam_test/pitzDaily/postProcessing/sets/streamlines/288&quot;</span>
End

&gt;
</code></pre></div> <p>When the simulation is done, you can exit the container with:</p> <div class=highlight><pre><span></span><code>&gt; <span class=nb>exit</span>
</code></pre></div> <p>Because the container can see all the compute node's filesystems, the simulation output will be available in <code>/tmp/openfoam_test</code> after you exit the container:</p> <div class=highlight><pre><span></span><code>$ ls /tmp/openfoam_test/pitzDaily/postProcessing/
sets
</code></pre></div> <h3 id=gpu-enabled-containers><abbr title="Graphical Processing Unit">GPU</abbr>-enabled containers<a class=headerlink href=#gpu-enabled-containers title="Permanent link">#</a></h3> <p>Sherlock also supports the use of container images provided by NVIDIA in the <a href=//www.nvidia.com/en-us/gpu-cloud>NVIDIA <abbr title="Graphical Processing Unit">GPU</abbr> Cloud (NGC)</a>. This registry provides <abbr title="Graphical Processing Unit">GPU</abbr>-accelerated containers for the most popular <abbr title="High Performance Computing">HPC</abbr> and deep-learning scientific applications.</p> <div class="admonition warning"> <p class=admonition-title><abbr title="Graphical Processing Unit">GPU</abbr> support</p> <p>Containers provided on NGC are only supported on Pascal and Volta architectures (TITAN Xp, Tesla P40, P100 or V100). For GPUs from the previous generations (GTX TITAN Black/X, Tesla K20/K80), things may or may not work.</p> <p>We recommend making sure to <a href=/docs/user-guide/gpu/#gpu-types>select a supported <abbr title="Graphical Processing Unit">GPU</abbr> generation</a> by adding the following directive to your batch script when submitting a job to run <abbr title="Graphical Processing Unit">GPU</abbr>-enabled containers from NGC: <div class=highlight><pre><span></span><code>#SBATCH -C &quot;GPU_GEN:PSC|GPU_GEN:VLT&quot;
</code></pre></div></p> </div> <h4 id=pulling-ngc-images>Pulling NGC images<a class=headerlink href=#pulling-ngc-images title="Permanent link">#</a></h4> <p>As before, we start by requesting an interactive shell with multiple <abbr title="Central Processing Unit">CPU</abbr> cores, loading the Singularity module and moving the directory where we'll save those images:</p> <div class=highlight><pre><span></span><code>$ srun -c <span class=m>4</span> --pty bash
$ <span class=nb>cd</span> <span class=nv>$GROUP_HOME</span>/simg
</code></pre></div> <div class="admonition info"> <p class=admonition-title>A <abbr title="Graphical Processing Unit">GPU</abbr> is not required for pulling <abbr title="Graphical Processing Unit">GPU</abbr>-enabled containers</p> <p><abbr title="Graphical Processing Unit">GPU</abbr>-enabled containers can be pulled on any node, including nodes without a <abbr title="Graphical Processing Unit">GPU</abbr>. But their execution requires a <abbr title="Graphical Processing Unit">GPU</abbr> and thus, they need to be executed within a <abbr title="Graphical Processing Unit">GPU</abbr> job. See the <a href=/docs/user-guide/gpu#submitting-a-gpu-job><abbr title="Graphical Processing Unit">GPU</abbr> job</a> section for more information.</p> </div> <p>To be able to pull an image from NGC, authentication credentials must be set. Users need to register and create an NGC API key, complete details could be found in the <a href=//docs.nvidia.com/ngc/ngc-getting-started-guide/index.html>NGC Getting Started Guide</a>.</p> <p>You can then set the following environment variable to allow Singularity to authenticate with NGC:</p> <div class=highlight><pre><span></span><code>$ <span class=nb>export</span> <span class=nv>SINGULARITY_DOCKER_USERNAME</span><span class=o>=</span><span class=s1>&#39;$oauthtoken&#39;</span>
$ <span class=nb>export</span> <span class=nv>SINGULARITY_DOCKER_PASSWORD</span><span class=o>=</span>&lt;NVIDIA NGC API key&gt;
</code></pre></div> <div class="admonition note"> <p class=admonition-title>Note</p> <p>The <code>SINGULARITY_DOCKER_USERNAME</code> environment variable must be set to the literal <code>$oauthtoken</code> string, for every user. It should not be replaced by anything else. Only the API key is specific to each user.</p> </div> <p>Once credentials are set in the environment, container images can be pulled from the NGC registry normally.</p> <p>The general form of the Singularity command used to pull NGC containers is: <code>$ singularity pull docker://nvcr.io/&lt;registry&gt;/&lt;app:tag&gt;</code></p> <p>For example to pull the <a href=//www.ks.uiuc.edu/Research/namd/ >NAMD</a> NGC container tagged with version <code>2.12-171025</code> the corresponding command would be:</p> <div class=highlight><pre><span></span><code>$ singularity pull docker://nvcr.io/hpc/namd:2.12-171025
</code></pre></div> <p>After this command has finished, we'll have a Singularity image file in the current directory, named <code>namd-2.12-171025.simg</code>.</p> <h4 id=running-ngc-containers>Running NGC containers<a class=headerlink href=#running-ngc-containers title="Permanent link">#</a></h4> <p>Instructions about running NGC containers are provided on the NGC website, under each application:</p> <p><img alt="NAMD on NGC" src=../img/ngc_namd.png></p> <p>Each application comes with specific running instructions, so we recommend to follow the container's particular guidelines before running it with Singularity.</p> <blockquote> <p>Containers that lack Singularity documentation have not been tested with Singularity.</p> </blockquote> <p>Since all NGC containers are optimized for <abbr title="Graphical Processing Unit">GPU</abbr> acceleration, they will always be executed with the <code>--nv</code> Singularity option, to enable <abbr title="Graphical Processing Unit">GPU</abbr> support within the container.</p> <p>We also need to submit a job requesting a <abbr title="Graphical Processing Unit">GPU</abbr> to run <abbr title="Graphical Processing Unit">GPU</abbr>-enabled containers. For instance:</p> <div class=highlight><pre><span></span><code>$ srun -p gpu -c <span class=m>4</span> --gres gpu:1 --pty bash
</code></pre></div> <p>This will start an interactive shell on a <abbr title="Graphical Processing Unit">GPU</abbr> node, with 4 <abbr title="Central Processing Unit">CPU</abbr> cores and 1 <abbr title="Graphical Processing Unit">GPU</abbr>.</p> <p>The NAMD container that was pulled just before can now be started with the following commands. We start by creating a temporary directory to hold the execution results, and start the container using this as the current directory:</p> <div class=highlight><pre><span></span><code>$ mkdir /tmp/namd_test
$ singularity shell --nv --pwd /tmp/namd_test <span class=nv>$GROUP_HOME</span>/simg/namd-2.12-171025.simg
Singularity: Invoking an interactive shell within container...

Singularity namd-2.12-171025.simg:/tmp/namd_test&gt;
</code></pre></div> <p>From there, we can run a NAMD test to verify that everything is working as expected.</p> <div class=highlight><pre><span></span><code>&gt; cp -r /workspace/examples .
&gt; /opt/namd/namd-multicore +p4 +idlepoll examples/apoa1/apoa1.namd
Charm++: standalone mode <span class=o>(</span>not using charmrun<span class=o>)</span>
Charm++&gt; Running <span class=k>in</span> Multicore mode:  <span class=m>4</span> threads
Charm++&gt; Using recursive bisection <span class=o>(</span>scheme <span class=m>3</span><span class=o>)</span> <span class=k>for</span> topology aware partitions
Converse/Charm++ Commit ID: v6.8.2
<span class=o>[</span>...<span class=o>]</span>
Info: Built with CUDA version <span class=m>9000</span>
Did not find +devices i,j,k,... argument, using all
Pe <span class=m>1</span> physical rank <span class=m>1</span> will use CUDA device of pe <span class=m>2</span>
Pe <span class=m>3</span> physical rank <span class=m>3</span> will use CUDA device of pe <span class=m>2</span>
Pe <span class=m>0</span> physical rank <span class=m>0</span> will use CUDA device of pe <span class=m>2</span>
Pe <span class=m>2</span> physical rank <span class=m>2</span> binding to CUDA device <span class=m>0</span> on sh02-14n13.int: <span class=s1>&#39;TITAN Xp&#39;</span>  Mem: 12196MB  Rev: <span class=m>6</span>.1
Info: NAMD <span class=m>2</span>.12 <span class=k>for</span> Linux-x86_64-multicore-CUDA
<span class=o>[</span>...<span class=o>]</span>
Info: SIMULATION PARAMETERS:
Info: TIMESTEP               <span class=m>1</span>
<span class=o>[</span>...<span class=o>]</span>
ENERGY:    <span class=m>2000</span>     <span class=m>20247</span>.5090     <span class=m>20325</span>.4554      <span class=m>5719</span>.0088       <span class=m>183</span>.9328        -340639.3103     <span class=m>25366</span>.3986         <span class=m>0</span>.0000         <span class=m>0</span>.0000     <span class=m>46364</span>.9951        -222432.0107       <span class=m>168</span>.6631   -268797.0057   -222054.5175       <span class=m>168</span>.8733          -1129.9509     -1799.6459    <span class=m>921491</span>.4634     -2007.8380     -2007.4145

WRITING EXTENDED SYSTEM TO OUTPUT FILE AT STEP <span class=m>2000</span>
WRITING COORDINATES TO OUTPUT FILE AT STEP <span class=m>2000</span>
The last position output <span class=o>(</span><span class=nv>seq</span><span class=o>=</span>-2<span class=o>)</span> takes <span class=m>0</span>.001 seconds, <span class=m>559</span>.844 MB of memory <span class=k>in</span> use
WRITING VELOCITIES TO OUTPUT FILE AT STEP <span class=m>2000</span>
The last velocity output <span class=o>(</span><span class=nv>seq</span><span class=o>=</span>-2<span class=o>)</span> takes <span class=m>0</span>.001 seconds, <span class=m>559</span>.844 MB of memory <span class=k>in</span> <span class=nv>use</span>
<span class=o>====================================================</span>

WallClock: <span class=m>17</span>.593451  CPUTime: <span class=m>17</span>.497925  Memory: <span class=m>559</span>.843750 MB
<span class=o>[</span>Partition <span class=m>0</span><span class=o>][</span>Node <span class=m>0</span><span class=o>]</span> End of program
</code></pre></div> <p>The simulation should take a few seconds to run. You can verify that it correctly executed on a <abbr title="Graphical Processing Unit">GPU</abbr> in the output above. When it's done, you can exit the container with:</p> <div class=highlight><pre><span></span><code>&gt; <span class=nb>exit</span>
</code></pre></div> <p>Because the container can see all the compute node's filesystems, the simulation output will be available in <code>/tmp/named_test</code> after you exit the container:</p> <div class=highlight><pre><span></span><code>$ <span class=nb>cd</span> /tmp/namd_test/examples/apoa1/
$ ls apoa1-out*
apoa1-out.coor  apoa1-out.vel  apoa1-out.xsc
</code></pre></div> <h3 id=building-your-own-containers>Building your own containers<a class=headerlink href=#building-your-own-containers title="Permanent link">#</a></h3> <p>Building Singularity containers requires <code>root</code> privileges, and as such, cannot be done on Sherlock directly.</p> <p>If you need to modify existing containers or build your own from scratch, The recommended workflow is to prepare and build your containers on your local Linux machine (it could either be a workstation, a laptop or a virtual machine), transfer the resulting container image to Sherlock, and run it there.</p> <p>For complete details about how to build Singularity containers, please refer to the <a href=//www.sylabs.io/guides/2.6/user-guide/build_a_container.html>Singularity documentation</a>.</p> <div class=footnote> <hr> <ol> <li id=fn:modules> <p>For more information about using modules on Sherlock, please see the <a href=/docs/software/modules>software modules documentation</a>.&#160;<a class=footnote-backref href=#fnref:modules title="Jump back to footnote 1 in the text">&#8617;</a></p> </li> </ol> </div> </article> </div> </div> </main> <!-- Application footer --> <footer class=md-footer> <!-- Link to previous and/or next page --> <div class=md-footer-nav> <nav class="md-footer-nav__inner md-grid" aria-label=Footer> <!-- Link to previous page --> <a href=../rclone/ title=Rclone class="md-footer-nav__link md-footer-nav__link--prev" rel=prev> <div class="md-footer-nav__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </div> <div class=md-footer-nav__title> <div class=md-ellipsis> <span class=md-footer-nav__direction> Previous </span> Rclone </div> </div> </a> <!-- Link to next page --> <a href=../spark/ title=Spark class="md-footer-nav__link md-footer-nav__link--next" rel=next> <div class=md-footer-nav__title> <div class=md-ellipsis> <span class=md-footer-nav__direction> Next </span> Spark </div> </div> <div class="md-footer-nav__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg> </div> </a> </nav> </div> <!-- Further information --> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <!-- Copyright and theme information --> <div class=md-footer-copyright> <div class=md-footer-copyright__highlight> Copyright &copy; 2014 - 2021 &mdash; <a href=mailto:srcc-support@stanford.edu>Stanford Research Computing Center</a> </div> Made with <span class="twemoji pulsate"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.27 2 8.5 2 5.41 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.08C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.41 22 8.5c0 3.77-3.4 6.86-8.55 11.53L12 21.35z"/></svg> </span> in <span class=md-footer-copyright__highlight> <a href=https://www.google.com/maps/place/Stanford,+CA>Stanford, California</a> </span> </div> <!-- Social links --> <div class=md-footer-social> <a href=https://srcc.stanford.edu target=_blank rel=noopener title="SRCC website" class=md-footer-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><path d="M248 8C111.03 8 0 119.03 0 256s111.03 248 248 248 248-111.03 248-248S384.97 8 248 8zm82.29 357.6c-3.9 3.88-7.99 7.95-11.31 11.28-2.99 3-5.1 6.7-6.17 10.71-1.51 5.66-2.73 11.38-4.77 16.87l-17.39 46.85c-13.76 3-28 4.69-42.65 4.69v-27.38c1.69-12.62-7.64-36.26-22.63-51.25-6-6-9.37-14.14-9.37-22.63v-32.01c0-11.64-6.27-22.34-16.46-27.97-14.37-7.95-34.81-19.06-48.81-26.11-11.48-5.78-22.1-13.14-31.65-21.75l-.8-.72a114.792 114.792 0 01-18.06-20.74c-9.38-13.77-24.66-36.42-34.59-51.14 20.47-45.5 57.36-82.04 103.2-101.89l24.01 12.01C203.48 89.74 216 82.01 216 70.11v-11.3c7.99-1.29 16.12-2.11 24.39-2.42l28.3 28.3c6.25 6.25 6.25 16.38 0 22.63L264 112l-10.34 10.34c-3.12 3.12-3.12 8.19 0 11.31l4.69 4.69c3.12 3.12 3.12 8.19 0 11.31l-8 8a8.008 8.008 0 01-5.66 2.34h-8.99c-2.08 0-4.08.81-5.58 2.27l-9.92 9.65a8.008 8.008 0 00-1.58 9.31l15.59 31.19c2.66 5.32-1.21 11.58-7.15 11.58h-5.64c-1.93 0-3.79-.7-5.24-1.96l-9.28-8.06a16.017 16.017 0 00-15.55-3.1l-31.17 10.39a11.95 11.95 0 00-8.17 11.34c0 4.53 2.56 8.66 6.61 10.69l11.08 5.54c9.41 4.71 19.79 7.16 30.31 7.16s22.59 27.29 32 32h66.75c8.49 0 16.62 3.37 22.63 9.37l13.69 13.69a30.503 30.503 0 018.93 21.57 46.536 46.536 0 01-13.72 32.98zM417 274.25c-5.79-1.45-10.84-5-14.15-9.97l-17.98-26.97a23.97 23.97 0 010-26.62l19.59-29.38c2.32-3.47 5.5-6.29 9.24-8.15l12.98-6.49C440.2 193.59 448 223.87 448 256c0 8.67-.74 17.16-1.82 25.54L417 274.25z"/></svg> </a> <a href=https://github.com/stanford-rc target=_blank rel=noopener title="SRCC on GitHub" class=md-footer-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </a> <a href=https://twitter.com/StanfordCompute target=_blank rel=noopener title="SRCC on Twitter" class=md-footer-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg> </a> <a href=https://srcc.slack.com/ target=_blank rel=noopener title="SRCC Users Slack workspace" class=md-footer-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M94.12 315.1c0 25.9-21.16 47.06-47.06 47.06S0 341 0 315.1c0-25.9 21.16-47.06 47.06-47.06h47.06v47.06zm23.72 0c0-25.9 21.16-47.06 47.06-47.06s47.06 21.16 47.06 47.06v117.84c0 25.9-21.16 47.06-47.06 47.06s-47.06-21.16-47.06-47.06V315.1zm47.06-188.98c-25.9 0-47.06-21.16-47.06-47.06S139 32 164.9 32s47.06 21.16 47.06 47.06v47.06H164.9zm0 23.72c25.9 0 47.06 21.16 47.06 47.06s-21.16 47.06-47.06 47.06H47.06C21.16 243.96 0 222.8 0 196.9s21.16-47.06 47.06-47.06H164.9zm188.98 47.06c0-25.9 21.16-47.06 47.06-47.06 25.9 0 47.06 21.16 47.06 47.06s-21.16 47.06-47.06 47.06h-47.06V196.9zm-23.72 0c0 25.9-21.16 47.06-47.06 47.06-25.9 0-47.06-21.16-47.06-47.06V79.06c0-25.9 21.16-47.06 47.06-47.06 25.9 0 47.06 21.16 47.06 47.06V196.9zM283.1 385.88c25.9 0 47.06 21.16 47.06 47.06 0 25.9-21.16 47.06-47.06 47.06-25.9 0-47.06-21.16-47.06-47.06v-47.06h47.06zm0-23.72c-25.9 0-47.06-21.16-47.06-47.06 0-25.9 21.16-47.06 47.06-47.06h117.84c25.9 0 47.06 21.16 47.06 47.06 0 25.9-21.16 47.06-47.06 47.06H283.1z"/></svg> </a> </div> </div> </div> </footer> </div> <script src=../../../../assets/javascripts/vendor.18f0862e.min.js></script> <script src=../../../../assets/javascripts/bundle.994580cf.min.js></script><script id=__lang type=application/json>{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}</script> <script>
        app = initialize({
          base: "../../../..",
          features: ['navigation.instant'],
          search: Object.assign({
            worker: "../../../../assets/javascripts/worker/search.9c0e82ba.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script> </body> </html>